function resetError(){document.getElementById("message").style.background="white",document.getElementById("message").innerHTML=""}function setError(e){document.getElementById("message").style.background="red",document.getElementById("message").innerHTML=`<span>${e}</span>`}signupForm.onsubmit=(async e=>{try{e.preventDefault(),resetError();let t=new FormData(signupForm),r={};t.forEach((e,t)=>{r[t]=e});let o=JSON.stringify(r),n=await fetch("/api/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:o});if(502===n.status)setError("Some error occurred on the server");else{let e=await n.json();n.ok?(localStorage.setItem("__token__",e.token),window.location.replace("/app")):setError(e.message)}}catch(e){setError("Some error occurred on the server")}});